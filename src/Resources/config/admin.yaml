parameters:
    admin.route.path_prefix:  /admin
    admin.route.route_prefix: admin
    admin.content.animate:    false

services:
    AdminBundle\Controller\:
        resource: '../../Controller'
        tags: ['controller.service_arguments']

    admin.security.login_form_authenticator:
        public: true
        class: AdminBundle\Security\LoginFormAuthenticator
        arguments:
            - "@doctrine.orm.entity_manager"
            - "@router"
            - "@security.csrf.token_manager"
            - "@security.user_password_encoder.generic"

    admin.pool:
        public: true
        class: AdminBundle\Admin\Pool
        arguments:
            - "@service_container"

    admin.route_generator:
        public: true
        class: AdminBundle\Route\RouteGenerator
        arguments:
            - "%admin.route.path_prefix%"
            - "%admin.route.route_prefix%"

    twig.admin_extension:
        public: true
        class: AdminBundle\Twig\AdminExtension
        arguments:
            - "@router"
            - "@admin.route_generator"
            - "@admin.pool"
            - "@parameter_bag"
        tags:
            - { name: twig.extension }

    twig.admin_menu_extension:
        public: true
        class: AdminBundle\Twig\AdminMenuExtension
        tags:
            - { name: twig.extension }